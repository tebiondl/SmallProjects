#:import utils kivy.utils
#:set background_color (0.05, 0.05, 0.05, 1)  # Almost black
#:set text_color (0.95, 0.95, 0.95, 1)  # Soft white
#:set accent_color (0.2, 0.7, 0.9, 1)  # Bright blue
#:set secondary_color (0.15, 0.15, 0.15, 1)  # Dark gray
#:set input_text_color (1, 1, 1, 1)  # Pure white for input text
#:set hint_text_color (0.4, 0.4, 0.4, 1) # Medium gray for hints

<CustomButton@Button>:
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: accent_color if self.state == 'normal' else utils.get_color_from_hex('#2980b9')
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [10,]
    color: text_color
    size_hint_y: None
    height: '50dp'
    font_size: '18sp'
    bold: True

<CustomTextInput@TextInput>:
    background_color: secondary_color
    foreground_color: accent_color
    hint_text_color: hint_text_color
    cursor_color: accent_color
    font_size: '18sp'
    padding: '15dp'
    multiline: False
    size_hint_y: None
    height: '50dp'

<WordListScreen>:
    canvas.before:
        Color:
            rgba: background_color
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        Label:
            text: 'Japanese Vocabulary'
            font_size: '24sp'
            size_hint_y: None
            height: '50dp'
            color: accent_color
        RecycleView:
            id: rv_list
            viewclass: 'CustomButton'
            RecycleBoxLayout:
                default_size: None, dp(60)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                spacing: '10dp'
        CustomButton:
            text: '+ Add New Word'
            on_press: app.root.current = 'add_word'

<AddWordScreen>:
    canvas.before:
        Color:
            rgba: background_color
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        Label:
            text: 'Add New Word'
            font_size: '24sp'
            size_hint_y: None
            height: '50dp'
            color: accent_color
        CustomTextInput:
            id: input_word
            hint_text: 'Word'
        CustomTextInput:
            id: input_romaji
            hint_text: 'Romaji'
        CustomTextInput:
            id: input_hiragana_katakana
            hint_text: 'Hiragana/Katakana'
        CustomTextInput:
            id: input_kanji
            hint_text: 'Kanji'
        BoxLayout:
            spacing: '20dp'
            CustomButton:
                text: 'Save'
                on_press: root.save_word()
            CustomButton:
                text: 'Back'
                on_press: app.root.current = 'word_list'

<WordDetailsScreen>:
    canvas.before:
        Color:
            rgba: background_color
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        spacing: '20dp'
        padding: '20dp'
        Label:
            text: 'Word Details'
            font_size: '24sp'
            size_hint_y: None
            height: '50dp'
            color: accent_color
        CustomTextInput:
            id: input_word
            hint_text: 'Word'
        CustomTextInput:
            id: input_romaji
            hint_text: 'Romaji'
        CustomTextInput:
            id: input_hiragana_katakana
            hint_text: 'Hiragana/Katakana'
        CustomTextInput:
            id: input_kanji
            hint_text: 'Kanji'
        BoxLayout:
            spacing: '20dp'
            CustomButton:
                text: 'Save Changes'
                on_press: root.save_changes()
            CustomButton:
                text: 'Delete'
                background_color: utils.get_color_from_hex('#c0392b')
                on_press: root.delete_word()
            CustomButton:
                text: 'Back'
                on_press: app.root.current = 'word_list'